---
import * as hn from "../../../utils/hn";

const searchParams = Astro.url.searchParams;

const defaultId = -1;
const parsedId = +(searchParams.get("id") ?? "");
const id = isNaN(parsedId) ? defaultId : parsedId;

const result = await hn.api.item(id);

return new Response(JSON.stringify(result), {
  headers: {
    "content-type": "application/json",
  },
});
---
