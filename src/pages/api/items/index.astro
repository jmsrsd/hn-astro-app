---
import { fetchItemById } from "../../../utils/fetch";

const searchParams = Astro.url.searchParams;

const parsedId = +(searchParams.get("id") ?? "");
const id = isNaN(parsedId) ? -1 : parsedId;

const result = await fetchItemById(id);

return new Response(JSON.stringify(result), {
  headers: {
    "content-type": "application/json",
  },
});
---
